{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <!-- Название комнаты -->
    <h2 class="mb-4">{{ room.name }}</h2>

    <!-- Главная фотография -->
    <div id="main-photo" class="text-center mb-4">
        <img id="current-photo" src="{{ url_for('static', filename='images/room' ~ room.id ~ '_1.jpg') }}" 
             class="img-fluid" style="max-height: 500px; object-fit: cover;" alt="Main Room Photo">
    </div>

    <!-- Миниатюры -->
    <div class="thumbnails d-flex justify-content-center mb-4">
        {% for photo_index in range(1, 4) %}
        <img src="{{ url_for('static', filename='images/room' ~ room.id ~ '_' ~ photo_index ~ '.jpg') }}" 
             class="thumbnail img-thumbnail mx-2" 
             style="width: 100px; height: 100px; object-fit: cover; cursor: pointer;" 
             alt="Room Photo Thumbnail" 
             onclick="changeMainPhoto(this.src)">
        {% endfor %}
    </div>

    <!-- Описание комнаты -->
    <p><strong>Location:</strong> {{ room.location }}</p>
    <p><strong>Description:</strong> {{ room.description }}</p>
    <p><strong>Price:</strong> £{{ room.price }} per night</p>

    <!-- Удобства -->
    <h4>Amenities</h4>
    <ul>
        {% for amenity in amenities %}
        <li>{{ amenity }}</li>
        {% endfor %}
    </ul>

    <!-- Ближайшие места -->
    <h4>Nearby Places</h4>
    <ul>
        {% for place in nearby_places %}
        <li>{{ place }}</li>
        {% endfor %}
    </ul>

    <!-- Карта -->
    <div id="map" style="height: 400px;" class="my-4"></div>

    <!-- Контакты -->
    <h4>Contact</h4>
    <p>Email: info@example.com</p>
    <p>Phone: +44 123 456 789</p>

    <!-- Скрипт для карты -->
    <script>
        function initMap() {
            const roomLocation = { lat: {{ room.latitude }}, lng: {{ room.longitude }} };
            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 15,
                center: roomLocation,
            });
            new google.maps.Marker({
                position: roomLocation,
                map: map,
            });
        }
    </script>
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap">
    </script>
</div>

<!-- JavaScript для смены главной фотографии -->
<script>
    function changeMainPhoto(photoSrc) {
        document.getElementById('current-photo').src = photoSrc;
    }
</script>
{% endblock %}